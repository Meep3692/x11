package com.github.moaxcp.x11protocol.parser

import com.squareup.javapoet.ArrayTypeName
import com.squareup.javapoet.CodeBlock
import com.squareup.javapoet.TypeName

class JavaRequiredStartAlign implements JavaUnit {
    JavaType javaType
    XUnit xUnit
    int align
    boolean readParam
    TypeName readTypeName

    @Override
    XUnit getXUnit() { //todo why is this not generated by groovy
        return xUnit
    }

    @Override
    TypeName getTypeName() {
        return ArrayTypeName.of(byte.class)
    }

    @Override
    CodeBlock getReadCode() {
        return CodeBlock.of('//todo align')
    }

    @Override
    void addBuilderCode(CodeBlock.Builder code) {
        throw new IllegalStateException('JavaRequredStartAlign cannot be used with builder')
    }

    @Override
    CodeBlock getDeclareAndReadCode() {
        return CodeBlock.of('//todo align')
    }

    @Override
    void addWriteCode(CodeBlock.Builder code) {
        code.add('//todo align')
    }

    @Override
    boolean isReadProtocol() {
        return !readParam
    }

    @Override
    CodeBlock getSizeExpression() {
        return CodeBlock.of('$L', 0)
    }

    @Override
    Optional<Integer> getFixedSize() {
        throw new UnsupportedOperationException('not supported')
    }
}
